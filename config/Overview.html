



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for batect, the build and testing environments as code tool">
      
      
        <link rel="canonical" href="https://batect.dev/config/Overview.html">
      
      
        <meta name="author" content="Charles Korn">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>Overview - batect documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../assets/3rdparty/asciinema-player.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-63947227-2", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#configuration-file-overview" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://batect.dev" title="batect documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              batect documentation
            </span>
            <span class="md-header-nav__topic">
              
                Overview
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/batect/batect/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    batect/batect
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://batect.dev" title="batect documentation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    batect documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/batect/batect/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    batect/batect
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../QuickStart.html" title="Quick start" class="md-nav__link">
      Quick start
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../GettingStarted.html" title="Getting started tutorial" class="md-nav__link">
      Getting started tutorial
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Comparison.html" title="Comparison with other tools" class="md-nav__link">
      Comparison with other tools
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Configuration file reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Configuration file reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Overview
      </label>
    
    <a href="Overview.html" title="Overview" class="md-nav__link md-nav__link--active">
      Overview
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project_name" class="md-nav__link">
    project_name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#config_variables" class="md-nav__link">
    config_variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#containers" class="md-nav__link">
    containers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tasks" class="md-nav__link">
    tasks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expressions" class="md-nav__link">
    Expressions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anchors-aliases-extensions-and-merging" class="md-nav__link">
    Anchors, aliases, extensions and merging
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="ConfigVariables.html" title="Config Variables" class="md-nav__link">
      Config Variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="Containers.html" title="Containers" class="md-nav__link">
      Containers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="Tasks.html" title="Tasks" class="md-nav__link">
      Tasks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CLIReference.html" title="CLI reference" class="md-nav__link">
      CLI reference
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../TaskLifecycle.html" title="Task lifecycle" class="md-nav__link">
      Task lifecycle
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Language and tool-specific information
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Language and tool-specific information
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/DotNetCore.html" title=".NET Core" class="md-nav__link">
      .NET Core
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/CircleCI.html" title="CircleCI" class="md-nav__link">
      CircleCI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/Docker.html" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/GitHubActions.html" title="GitHub Actions" class="md-nav__link">
      GitHub Actions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/Golang.html" title="Golang" class="md-nav__link">
      Golang
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/Gradle.html" title="Gradle" class="md-nav__link">
      Gradle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/Node.html" title="Node.js" class="md-nav__link">
      Node.js
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/Ruby.html" title="Ruby" class="md-nav__link">
      Ruby
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/TravisCI.html" title="Travis CI" class="md-nav__link">
      Travis CI
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Tips and tricks
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Tips and tricks
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tips/CISetup.html" title="CI setup" class="md-nav__link">
      CI setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tips/IDEIntegration.html" title="IDE integration" class="md-nav__link">
      IDE integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tips/Performance.html" title="Performance" class="md-nav__link">
      Performance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tips/BuildArtifactsOwnedByRoot.html" title="Build artifacts are owned by root" class="md-nav__link">
      Build artifacts are owned by root
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tips/WaitingForDependenciesToBeReady.html" title="Waiting for dependencies to be ready" class="md-nav__link">
      Waiting for dependencies to be ready
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tips/Proxies.html" title="Proxies" class="md-nav__link">
      Proxies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tips/Windows.html" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SampleProjects.html" title="Sample projects" class="md-nav__link">
      Sample projects
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://github.com/batect/batect/releases" title="Release notes" class="md-nav__link">
      Release notes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://github.com/batect/batect/blob/master/ROADMAP.md" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project_name" class="md-nav__link">
    project_name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#config_variables" class="md-nav__link">
    config_variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#containers" class="md-nav__link">
    containers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tasks" class="md-nav__link">
    tasks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expressions" class="md-nav__link">
    Expressions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anchors-aliases-extensions-and-merging" class="md-nav__link">
    Anchors, aliases, extensions and merging
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/batect/batect/edit/master/docs/content/config/Overview.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="configuration-file-overview">Configuration file overview<a class="headerlink" href="#configuration-file-overview" title="Permanent link">&para;</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page reflects the options available in the <a href="https://github.com/batect/batect/releases/latest">most recent version</a>
of batect.</p>
</div>
<p>batect uses a YAML-based configuration file.</p>
<p>By convention, this file is called <code>batect.yml</code> and is placed in the root of your project (alongside the <code>batect</code> script).
You can use a different name or location and tell <code>batect</code> where to find it with the
<a href="../CLIReference.html#use-a-non-standard-configuration-file-name-config-file-or-f"><code>-f</code> option</a>.</p>
<p>The root of the configuration file is made up of:</p>
<h2 id="project_name"><code>project_name</code><a class="headerlink" href="#project_name" title="Permanent link">&para;</a></h2>
<p>The name of your project. Used to label any images built.</p>
<p>If a project name is not provided, the project name is taken from the directory containing the configuration file. For example, if your configuration
file is <code>/home/alex/projects/my-cool-app/batect.yml</code> and you do not provide a project name, <code>my-cool-app</code> will be used automatically.</p>
<p>Project names must be valid Docker references:</p>
<ul>
<li>they must contain only:<ul>
<li>lowercase letters</li>
<li>digits</li>
<li>dashes (<code>-</code>)</li>
<li>single consecutive periods (<code>.</code>)</li>
<li>one or two consecutive underscores (<code>_</code>)</li>
</ul>
</li>
<li>they must not start or end with dashes, periods or underscores</li>
</ul>
<h2 id="config_variables"><code>config_variables</code><a class="headerlink" href="#config_variables" title="Permanent link">&para;</a></h2>
<p>Definitions for each of the config variables that are used throughout your configuration, in <code>name: options</code> format..</p>
<p><a href="ConfigVariables.html">Detailed reference for <code>config_variables</code></a></p>
<h2 id="containers"><code>containers</code><a class="headerlink" href="#containers" title="Permanent link">&para;</a></h2>
<p>Definitions for each of the containers that make up your various environments, in <code>name: options</code> format.</p>
<p>Container names must be valid Docker references:</p>
<ul>
<li>they must contain only:<ul>
<li>lowercase letters</li>
<li>digits</li>
<li>dashes (<code>-</code>)</li>
<li>single consecutive periods (<code>.</code>)</li>
<li>one or two consecutive underscores (<code>_</code>)</li>
</ul>
</li>
<li>they must not start or end with dashes, periods or underscores</li>
</ul>
<p><a href="Containers.html">Detailed reference for <code>containers</code></a></p>
<h2 id="tasks"><code>tasks</code><a class="headerlink" href="#tasks" title="Permanent link">&para;</a></h2>
<p>Definitions for each of your tasks, the actions you launch through batect, in <code>name: options</code> format.</p>
<p><a href="Tasks.html">Detailed reference for <code>tasks</code></a></p>
<h2 id="expressions">Expressions<a class="headerlink" href="#expressions" title="Permanent link">&para;</a></h2>
<p>Some fields support expressions - references to environment variables on the host or <a href="ConfigVariables.html">config variables</a>.</p>
<p>You can pass environment variables from the host (ie. where you run batect) to the container by using any of the following formats:</p>
<ul>
<li>
<p><code>$name</code> or <code>${name}</code>: use the value of <code>name</code> from the host as the value inside the container.</p>
<p>If <code>name</code> is not set on the host, batect will show an error message and not start the task.</p>
</li>
<li>
<p><code>${name:-default}</code>: use the value of <code>name</code> from the host as the value inside the container.</p>
<p>If <code>name</code> is not set on the host, <code>default</code> is used instead.</p>
<p><code>default</code> can be empty, so <code>${name:-}</code> will use the value of <code>name</code> from the host if it is
set, or a blank value if it is not set.</p>
<p><code>default</code> is treated as a literal, it cannot be a reference to another variable.</p>
</li>
</ul>
<p>For example, to refer to the value of the <code>MY_PASSWORD</code> environment variable on the host, use <code>$MY_PASSWORD</code> or
<code>${MY_PASSWORD}</code>. Or, to default to <code>insecure</code> if <code>MY_PASSWORD</code> is not set, use <code>${MY_PASSWORD:-insecure}</code>.</p>
<p>You can refer to the value of a <a href="ConfigVariables.html">config variable</a> with <code>&lt;name</code> or <code>&lt;{name}</code>.
Default values for config variables can be specified with <a href="ConfigVariables.html#default"><code>default</code></a> when defining them.</p>
<p>When given without braces, <code>name</code> can only contain letters, numbers and underscores.
Any other characters are treated as literals (eg. <code>$MY_VAR, 2, 3</code> with <code>MY_VAR</code> set to <code>1</code> results
in <code>1, 2, 3</code>).</p>
<p>When given with braces, <code>name</code> can contain any character except a closing brace (<code>}</code>) or colon (<code>:</code>).</p>
<p>Combining expressions and literal values is supported (eg. <code>My password is $MY_PASSWORD</code> or <code>&lt;{SERVER}:8080</code>).</p>
<p>In fields that support expressions, you can escape <code>$</code> and <code>&lt;</code> with a backslash (<code>\</code>).</p>
<h2 id="anchors-aliases-extensions-and-merging">Anchors, aliases, extensions and merging<a class="headerlink" href="#anchors-aliases-extensions-and-merging" title="Permanent link">&para;</a></h2>
<p>batect supports YAML anchors and aliases. This allows you to specify a value in one place, and
refer to it elsewhere. For example:</p>
<div class="codehilite"><pre><span></span><span class="nt">somewhere</span><span class="p">:</span> <span class="nl">&amp;value-used-multiple-times</span> <span class="l l-Scalar l-Scalar-Plain">the-value</span>

<span class="c1"># This is equivalent to somewhere-else: the-value</span>
<span class="nt">somewhere-else</span><span class="p">:</span> <span class="nv">*value-used-multiple-times</span>
</pre></div>

<p>Anchors (<code>&amp;...</code>) must be defined before they are referenced with an alias (<code>*...</code>).</p>
<p>batect also supports extensions, which behave in an identical way, but allow you to define values
before you use it for the first time. The following is equivalent to the example above:</p>
<div class="codehilite"><pre><span></span><span class="nt">.value-used-multiple-times</span><span class="p">:</span> <span class="nl">&amp;value-used-multiple-times</span> <span class="l l-Scalar l-Scalar-Plain">the-value</span>

<span class="nt">somewhere</span><span class="p">:</span> <span class="nv">*value-used-multiple-times</span>
<span class="nt">somewhere-else</span><span class="p">:</span> <span class="nv">*value-used-multiple-times</span>
</pre></div>

<p>Extensions must be defined at the root level of your configuration file, and the key must start
with a period (<code>.</code>).</p>
<p>batect also supports the merge operator (<code>&lt;&lt;</code>) in maps. For example:</p>
<div class="codehilite"><pre><span></span><span class="nt">.common-environment</span><span class="p">:</span> <span class="nl">&amp;common-environment</span>
  <span class="nt">ENABLE_COOL_FEATURE</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">DATABASE_HOST</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">postgres:1234</span>

<span class="nt">tasks</span><span class="p">:</span>
  <span class="nt">run-app</span><span class="p">:</span>
    <span class="nt">run</span><span class="p">:</span>
      <span class="l l-Scalar l-Scalar-Plain">...</span>
      <span class="l l-Scalar l-Scalar-Plain">environment</span><span class="p p-Indicator">:</span> <span class="nv">*common-environment</span> <span class="c1"># Just uses the values in common-environment as-is</span>

  <span class="nt">run-app-without-cool-feature</span><span class="p">:</span>
    <span class="nt">run</span><span class="p">:</span>
      <span class="l l-Scalar l-Scalar-Plain">...</span>
      <span class="l l-Scalar l-Scalar-Plain">environment</span><span class="p p-Indicator">:</span>
        <span class="nt">&lt;&lt; </span><span class="p">:</span> <span class="nv">*common-environment</span> <span class="c1"># Use common-environment as the basis for the environment in this task...</span>
        <span class="nt">ENABLE_COOL_FEATURE</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span> <span class="c1"># ...but override the value of ENABLE_COOL_FEATURE</span>
</pre></div>

<p>You can merge a single map with <code>&lt;&lt;: *other-map</code>, or multiple maps with <code>&lt;&lt;: [ *map-1, *map-2 ]</code>.</p>
<p>Local values take precedence over values merged into a map (regardless of the position of the <code>&lt;&lt;</code> entry),
and values from sources earlier in the list of maps take precedence over values from later sources.
(For example, if both <code>map-1</code> and <code>map-2</code> define a value for <code>PORT</code> in the example earlier, the
value in <code>map-1</code> is used.)</p>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<p>Examples are provided in the reference for <a href="ConfigVariables.html#examples"><code>config_variables</code></a>, <a href="Containers.html#examples"><code>containers</code></a> and <a href="Tasks.html#examples"><code>tasks</code></a>.</p>
<p>For further examples and real-world scenarios, take a look at the <a href="../SampleProjects.html">sample projects</a>.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../Comparison.html" title="Comparison with other tools" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Comparison with other tools
              </span>
            </div>
          </a>
        
        
          <a href="ConfigVariables.html" title="Config Variables" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Config Variables
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017-2020 Charles Korn.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/batect/batect" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://spectrum.chat/batect" class="md-footer-social__link fa fa-comments"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="../assets/3rdparty/asciinema-player.js"></script>
      
    
  </body>
</html>